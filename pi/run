#!/bin/sh

set -e

PROJECT_DIR=..
BUILD_DIR=../build
BIN_DIR=$BUILD_DIR/bin

BUILD_FLAGS=-j4
CMAKE_FLAGS="
    -DCMAKE_EXPORT_COMPILE_COMMANDS=ON
    -DCMAKE_BUILD_TYPE=Release
"

cmake -S $PROJECT_DIR -B $BUILD_DIR $CMAKE_FLAGS
cmake --build $BUILD_DIR --target run -- $BUILD_FLAGS
