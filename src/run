#!/bin/sh

set -e

PROJECT_DIR=..
BUILD_DIR=../build
BIN_DIR=$BUILD_DIR/bin
EXEC_NAME=real_bin

BUILD_FLAGS=-j4
CMAKE_FLAGS="
    -DCMAKE_EXPORT_COMPILE_COMMANDS=ON
    -DCMAKE_BUILD_TYPE=Debug
"

cmake -S $PROJECT_DIR -B $BUILD_DIR $CMAKE_FLAGS
cmake --build $BUILD_DIR -- $BUILD_FLAGS
$BIN_DIR/$EXEC_NAME
